{
  "name": "sequential_loan_application",
  "description": "Personal loan application",
  "category": "fintech",
  "guidelines": "Guide the applicant through the loan application process. Be clear about what information is needed and why. Ensure all required documents are collected.",
  "state_schema": {
    "loan_amount": {"type": "number", "minimum": 1000, "maximum": 1000000, "required": true},
    "loan_purpose": {"type": "string", "required": true},
    "term_months": {"type": "integer", "minimum": 6, "maximum": 360, "required": true},
    "full_name": {"type": "string", "required": true},
    "date_of_birth": {"type": "string", "format": "date", "required": true},
    "national_id": {"type": "string", "required": true},
    "marital_status": {"type": "string", "enum": ["single", "married", "divorced", "widowed"]},
    "monthly_income": {"type": "number", "minimum": 0, "required": true},
    "employment_status": {"type": "string", "enum": ["employed", "self_employed", "unemployed", "retired"], "required": true},
    "employer_name": {"type": "string"},
    "credit_score": {"type": "integer", "minimum": 300, "maximum": 850},
    "account_number": {"type": "string", "required": true},
    "bank_name": {"type": "string", "required": true},
    "routing_number": {"type": "string", "required": true},
    "id_document_uploaded": {"type": "boolean", "required": true},
    "proof_of_income_uploaded": {"type": "boolean", "required": true},
    "bank_statement_uploaded": {"type": "boolean"},
    "terms_accepted": {"type": "boolean", "required": true},
    "privacy_policy_accepted": {"type": "boolean", "required": true},
    "credit_check_authorized": {"type": "boolean", "required": true}
  },
  "end_action_type": "api_call",
  "end_action_target": "https://api.bank.com/loans/apply",
  "is_active": true,
  "workflow_metadata": {
    "version": "1.0",
    "estimated_duration_minutes": 20,
    "requires_credit_check": true
  }
}
