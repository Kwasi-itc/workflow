{
  "name": "sequential_account_opening",
  "description": "Bank account opening workflow",
  "category": "banking",
  "guidelines": "Guide the customer through the account opening process. Be clear and professional. Explain what information is required and why. Ensure compliance with banking regulations. Verify all information carefully.",
  "state_schema": {
    "account_type": {"type": "string", "enum": ["checking", "savings", "business", "joint"], "required": true},
    "full_name": {"type": "string", "required": true},
    "date_of_birth": {"type": "string", "format": "date", "required": true},
    "national_id": {"type": "string", "required": true},
    "tax_id": {"type": "string"},
    "email": {"type": "string", "format": "email", "required": true},
    "phone": {"type": "string", "required": true},
    "street": {"type": "string", "required": true},
    "city": {"type": "string", "required": true},
    "state": {"type": "string", "required": true},
    "postal_code": {"type": "string", "required": true},
    "country": {"type": "string", "required": true},
    "employer_name": {"type": "string"},
    "job_title": {"type": "string"},
    "monthly_income": {"type": "number", "minimum": 0},
    "employment_status": {"type": "string", "enum": ["employed", "self_employed", "unemployed", "retired"]},
    "id_verified": {"type": "boolean", "required": true},
    "address_verified": {"type": "boolean", "required": true},
    "proof_of_income": {"type": "boolean"},
    "initial_deposit": {"type": "number", "minimum": 0, "required": true},
    "account_features": {"type": "array", "items": {"type": "string", "enum": ["debit_card", "online_banking", "mobile_app", "overdraft_protection", "checkbook"]}}
  },
  "end_action_type": "api_call",
  "end_action_target": "https://api.bank.com/accounts/open",
  "is_active": true,
  "workflow_metadata": {
    "version": "1.0",
    "estimated_duration_minutes": 15,
    "compliance_required": ["KYC", "AML"],
    "regulatory_requirements": ["GDPR", "Banking Regulations"]
  }
}
