[
  {
    "name": "user_onboarding",
    "description": "User onboarding workflow that checks if user exists in system, then creates new user profile",
    "category": "user_management",
    "guidelines": "Guide new users through the onboarding process. Check if user email already exists in the system, then collect basic information and create their profile.",
    "state_schema": {
      "username": {"type": "string", "minLength": 3, "maxLength": 30, "required": true},
      "email": {"type": "string", "format": "email", "required": true},
      "full_name": {"type": "string", "required": true},
      "phone_number": {"type": "string", "required": true},
      "preferred_language": {"type": "string", "enum": ["en", "es", "fr", "de"], "required": true},
      "newsletter_subscription": {"type": "boolean", "required": true},
      "terms_accepted": {"type": "boolean", "required": true}
    },
    "workflow_dependencies": [
      {
        "name": "user_existence_check",
        "api": {
          "endpoint": "https://jsonplaceholder.typicode.com/users",
          "method": "GET",
          "headers": ["Content-Type"],
          "query_params": ["email"],
          "body": null,
          "timeout_seconds": 30
        },
        "on_failure": {
          "action_type": "api_call",
          "action_target": {
            "endpoint": "https://httpbin.org/post",
            "method": "POST",
            "headers": ["Content-Type"],
            "query_params": [],
            "body": ["email", "error_message"],
            "timeout_seconds": 20
          }
        }
      }
    ],
    "end_action_type": "api_call",
    "end_action_target": {
      "endpoint": "https://jsonplaceholder.typicode.com/users",
      "method": "POST",
      "headers": ["Content-Type"],
      "query_params": [],
      "body": ["name", "username", "email", "phone", "website"],
      "timeout_seconds": 30
    },
    "is_active": true,
    "workflow_metadata": {
      "version": "1.0",
      "estimated_duration_minutes": 5,
      "note": "JSONPlaceholder returns user objects with id, name, username, email, phone, website, address, company"
    }
  },
  {
    "name": "product_order_processing",
    "description": "Order processing workflow that checks product/post availability, then creates order/post",
    "category": "ecommerce",
    "guidelines": "Process a product order. Check if the product/post exists and is available, then collect shipping information and create the order.",
    "state_schema": {
      "product_id": {"type": "integer", "required": true},
      "quantity": {"type": "integer", "minimum": 1, "required": true},
      "shipping_address": {"type": "string", "required": true},
      "shipping_city": {"type": "string", "required": true},
      "shipping_postal_code": {"type": "string", "required": true},
      "payment_method": {"type": "string", "enum": ["credit_card", "debit_card", "paypal"], "required": true},
      "card_last_four": {"type": "string", "minLength": 4, "maxLength": 4}
    },
    "workflow_dependencies": [
      {
        "name": "product_availability_check",
        "api": {
          "endpoint": "https://jsonplaceholder.typicode.com/posts",
          "method": "GET",
          "headers": ["Content-Type"],
          "query_params": ["id"],
          "body": null,
          "timeout_seconds": 30
        },
        "on_failure": {
          "action_type": "workflow",
          "action_target": {
            "workflow_id": "restock_notification_workflow_id",
            "workflow_name": "restock_notification"
          }
        }
      }
    ],
    "end_action_type": "api_call",
    "end_action_target": {
      "endpoint": "https://jsonplaceholder.typicode.com/posts",
      "method": "POST",
      "headers": ["Content-Type"],
      "query_params": [],
      "body": ["userId", "title", "body"],
      "timeout_seconds": 30
    },
    "is_active": true,
    "workflow_metadata": {
      "version": "1.0",
      "estimated_duration_minutes": 8,
      "note": "JSONPlaceholder returns post objects with userId, id, title, body"
    }
  },
  {
    "name": "content_approval",
    "description": "Content submission workflow that verifies author/user exists, then creates content/post",
    "category": "content_management",
    "guidelines": "Collect content submission details. Verify that the author/user exists in the system before allowing submission.",
    "state_schema": {
      "content_type": {"type": "string", "enum": ["article", "video", "image", "document"], "required": true},
      "title": {"type": "string", "minLength": 5, "maxLength": 200, "required": true},
      "description": {"type": "string", "maxLength": 1000, "required": true},
      "tags": {"type": "string"},
      "author_id": {"type": "integer", "required": true},
      "publish_date": {"type": "string", "format": "date"}
    },
    "workflow_dependencies": [
      {
        "name": "author_verification",
        "api": {
          "endpoint": "https://reqres.in/api/users",
          "method": "GET",
          "headers": ["Content-Type"],
          "query_params": ["id"],
          "body": null,
          "timeout_seconds": 30
        },
        "on_failure": {
          "action_type": "api_call",
          "action_target": {
            "endpoint": "https://httpbin.org/post",
            "method": "POST",
            "headers": ["Content-Type"],
            "query_params": [],
            "body": ["author_id", "error_message"],
            "timeout_seconds": 20
          }
        }
      }
    ],
    "end_action_type": "api_call",
    "end_action_target": {
      "endpoint": "https://jsonplaceholder.typicode.com/posts",
      "method": "POST",
      "headers": ["Content-Type"],
      "query_params": [],
      "body": ["userId", "title", "body"],
      "timeout_seconds": 30
    },
    "is_active": true,
    "workflow_metadata": {
      "version": "1.0",
      "estimated_duration_minutes": 10,
      "note": "ReqRes returns user data with id, email, first_name, last_name, avatar"
    }
  },
  {
    "name": "event_registration",
    "description": "Event registration workflow that checks event/post exists, then creates registration/post",
    "category": "events",
    "guidelines": "Register user for an event. Verify that the event/post exists in the system before confirming registration.",
    "state_schema": {
      "event_id": {"type": "integer", "required": true},
      "attendee_name": {"type": "string", "required": true},
      "attendee_email": {"type": "string", "format": "email", "required": true},
      "dietary_requirements": {"type": "string"},
      "special_accommodations": {"type": "string"},
      "emergency_contact": {"type": "string", "required": true},
      "emergency_phone": {"type": "string", "required": true}
    },
    "workflow_dependencies": [
      {
        "name": "event_existence_check",
        "api": {
          "endpoint": "https://jsonplaceholder.typicode.com/posts",
          "method": "GET",
          "headers": ["Content-Type"],
          "query_params": ["id"],
          "body": null,
          "timeout_seconds": 30
        },
        "on_failure": {
          "action_type": "workflow",
          "action_target": {
            "workflow_id": "waitlist_workflow_id",
            "workflow_name": "event_waitlist"
          }
        }
      }
    ],
    "end_action_type": "api_call",
    "end_action_target": {
      "endpoint": "https://jsonplaceholder.typicode.com/posts",
      "method": "POST",
      "headers": ["Content-Type"],
      "query_params": [],
      "body": ["userId", "title", "body"],
      "timeout_seconds": 30
    },
    "is_active": true,
    "workflow_metadata": {
      "version": "1.0",
      "estimated_duration_minutes": 6,
      "note": "JSONPlaceholder returns post objects with userId, id, title, body"
    }
  },
  {
    "name": "support_ticket_creation",
    "description": "Create support ticket workflow that verifies user exists and checks existing tickets, then creates ticket/post",
    "category": "support",
    "guidelines": "Help user create a support ticket. Verify user account exists, check for existing tickets, then collect issue details and create the ticket.",
    "state_schema": {
      "user_id": {"type": "integer", "required": true},
      "issue_category": {"type": "string", "enum": ["technical", "billing", "account", "feature_request", "other"], "required": true},
      "subject": {"type": "string", "minLength": 5, "maxLength": 200, "required": true},
      "description": {"type": "string", "minLength": 10, "required": true},
      "priority": {"type": "string", "enum": ["low", "medium", "high", "urgent"], "required": true},
      "attachments_count": {"type": "integer", "minimum": 0}
    },
    "workflow_dependencies": [
      {
        "name": "user_verification",
        "api": {
          "endpoint": "https://reqres.in/api/users",
          "method": "GET",
          "headers": ["Content-Type"],
          "query_params": ["id"],
          "body": null,
          "timeout_seconds": 30
        },
        "on_failure": {
          "action_type": "api_call",
          "action_target": {
            "endpoint": "https://httpbin.org/post",
            "method": "POST",
            "headers": ["Content-Type"],
            "query_params": [],
            "body": ["user_id", "error_message"],
            "timeout_seconds": 20
          }
        }
      },
      {
        "name": "existing_ticket_check",
        "api": {
          "endpoint": "https://jsonplaceholder.typicode.com/posts",
          "method": "GET",
          "headers": ["Content-Type"],
          "query_params": ["userId"],
          "body": null,
          "timeout_seconds": 30
        },
        "on_failure": {
          "action_type": "workflow",
          "action_target": {
            "workflow_id": "ticket_escalation_workflow_id",
            "workflow_name": "ticket_escalation"
          }
        }
      }
    ],
    "end_action_type": "api_call",
    "end_action_target": {
      "endpoint": "https://jsonplaceholder.typicode.com/posts",
      "method": "POST",
      "headers": ["Content-Type"],
      "query_params": [],
      "body": ["userId", "title", "body"],
      "timeout_seconds": 30
    },
    "is_active": true,
    "workflow_metadata": {
      "version": "1.0",
      "estimated_duration_minutes": 7,
      "note": "ReqRes returns user data. JSONPlaceholder returns post objects. HTTPBin echoes request data."
    }
  },
  {
    "name": "micro_loan_preapproval",
    "description": "Pre-qualifies users for micro-loans after verifying KYC and affordability signals.",
    "category": "fintech",
    "guidelines": "Collect borrower profile data, confirm KYC is complete, and ensure affordability API returns positive signals before issuing pre-approval.",
    "state_schema": {
      "user_id": {"type": "string", "required": true},
      "requested_amount": {"type": "number", "minimum": 50, "maximum": 5000, "required": true},
      "tenor_months": {"type": "integer", "minimum": 1, "maximum": 12, "required": true},
      "employment_status": {"type": "string", "enum": ["employed", "self_employed", "unemployed"], "required": true},
      "monthly_income": {"type": "number", "required": true},
      "preapproval_code": {"type": "string"}
    },
    "workflow_dependencies": [
      {
        "name": "kyc_status_check",
        "api": {
          "endpoint": "https://jsonplaceholder.typicode.com/todos/1",
          "method": "GET",
          "headers": ["Authorization"],
          "query_params": ["user_id"],
          "body": null,
          "timeout_seconds": 25
        },
        "on_failure": {
          "action_type": "workflow",
          "action_target": {
            "workflow_id": "kyc_workflow_id",
            "workflow_name": "kyc_verification"
          }
        }
      },
      {
        "name": "affordability_signal_check",
        "api": {
          "endpoint": "https://jsonplaceholder.typicode.com/posts/12",
          "method": "GET",
          "headers": ["Authorization"],
          "query_params": ["user_id"],
          "body": null,
          "timeout_seconds": 30
        },
        "on_failure": {
          "action_type": "api_call",
          "action_target": {
            "endpoint": "https://httpbin.org/post",
            "method": "POST",
            "headers": ["Authorization", "Content-Type"],
            "query_params": ["user_id"],
            "body": ["user_id", "requested_amount", "reason"],
            "timeout_seconds": 20
          }
        }
      }
    ],
    "end_action_type": "api_call",
    "end_action_target": {
      "endpoint": "https://httpbin.org/post",
      "method": "POST",
      "headers": ["Authorization", "Content-Type"],
      "query_params": ["user_id"],
      "body": ["user_id", "requested_amount", "tenor_months", "preapproval_code"],
      "timeout_seconds": 30
    },
    "is_active": true,
    "workflow_metadata": {
      "version": "1.0",
      "currency": "USD",
      "segment": "micro_lending"
    }
  },
  {
    "name": "digital_wallet_topup",
    "description": "Allows users to top up wallet balance after verifying funding source and fraud checks.",
    "category": "fintech",
    "guidelines": "Collect funding source details, verify funding account ownership, ensure fraud screening passes, then initiate wallet credit.",
    "state_schema": {
      "user_id": {"type": "string", "required": true},
      "funding_account_id": {"type": "string", "required": true},
      "topup_amount": {"type": "number", "minimum": 1, "required": true},
      "currency": {"type": "string", "enum": ["USD", "EUR", "GHS", "NGN"], "required": true},
      "otp_verified": {"type": "boolean", "required": true},
      "wallet_balance_preview": {"type": "number"}
    },
    "workflow_dependencies": [
      {
        "name": "funding_account_check",
        "api": {
          "endpoint": "https://jsonplaceholder.typicode.com/users/3",
          "method": "GET",
          "headers": ["Authorization"],
          "query_params": ["funding_account_id"],
          "body": null,
          "timeout_seconds": 20
        },
        "on_failure": {
          "action_type": "api_call",
          "action_target": {
            "endpoint": "https://httpbin.org/put",
            "method": "PUT",
            "headers": ["Authorization"],
            "query_params": ["funding_account_id"],
            "body": ["funding_account_id"]
          }
        }
      },
      {
        "name": "fraud_screening_check",
        "api": {
          "endpoint": "https://jsonplaceholder.typicode.com/comments/25",
          "method": "GET",
          "headers": ["Authorization"],
          "query_params": ["user_id"],
          "body": null,
          "timeout_seconds": 20
        },
        "on_failure": {
          "action_type": "workflow",
          "action_target": {
            "workflow_id": "fraud_review_workflow_id",
            "workflow_name": "fraud_secondary_review"
          }
        }
      }
    ],
    "end_action_type": "api_call",
    "end_action_target": {
      "endpoint": "https://httpbin.org/post",
      "method": "POST",
      "headers": ["Authorization", "Content-Type"],
      "query_params": ["user_id"],
      "body": ["user_id", "topup_amount", "currency", "funding_account_id"],
      "timeout_seconds": 25
    },
    "is_active": true,
    "workflow_metadata": {
      "version": "2.3",
      "channel": "mobile_app",
      "sla_minutes": 2
    }
  },
  {
    "name": "utility_bill_payment",
    "description": "Handles recurring utility payments with dependency on billing profile validation and balance checks.",
    "category": "fintech",
    "guidelines": "Confirm customer billing profile exists, ensure wallet balance covers invoice, then call utility API to mark bill paid.",
    "state_schema": {
      "user_id": {"type": "string", "required": true},
      "utility_account_number": {"type": "string", "required": true},
      "bill_reference": {"type": "string", "required": true},
      "bill_amount": {"type": "number", "required": true},
      "payment_method": {"type": "string", "enum": ["wallet", "card"], "required": true},
      "receipt_number": {"type": "string"}
    },
    "workflow_dependencies": [
      {
        "name": "billing_profile_check",
        "api": {
          "endpoint": "https://jsonplaceholder.typicode.com/users/6",
          "method": "GET",
          "headers": ["Authorization"],
          "query_params": ["utility_account_number"],
          "body": null,
          "timeout_seconds": 30
        },
        "on_failure": {
          "action_type": "api_call",
          "action_target": {
            "endpoint": "https://httpbin.org/post",
            "method": "POST",
            "headers": ["Authorization", "Content-Type"],
            "query_params": ["utility_account_number"],
            "body": ["utility_account_number", "bill_reference", "error_message"]
          }
        }
      },
      {
        "name": "wallet_balance_check",
        "api": {
          "endpoint": "https://jsonplaceholder.typicode.com/posts/30",
          "method": "GET",
          "headers": ["Authorization"],
          "query_params": ["user_id"],
          "body": null,
          "timeout_seconds": 25
        },
        "on_failure": {
          "action_type": "workflow",
          "action_target": {
            "workflow_id": "wallet_topup_workflow_id",
            "workflow_name": "wallet_balance_recovery"
          }
        }
      }
    ],
    "end_action_type": "api_call",
    "end_action_target": {
      "endpoint": "https://httpbin.org/put",
      "method": "PUT",
      "headers": ["Authorization", "Content-Type"],
      "query_params": ["utility_account_number"],
      "body": ["bill_reference", "bill_amount", "payment_method"],
      "timeout_seconds": 35
    },
    "is_active": true,
    "workflow_metadata": {
      "version": "1.2",
      "utility_partner": "CityPower",
      "auto_retries": 1
    }
  },
  {
    "name": "merchant_payout_release",
    "description": "Releases daily merchant earnings after verifying settlement balance and fraud signals.",
    "category": "fintech",
    "guidelines": "Confirm merchant identity, ensure available balance exceeds payout threshold, then call payout API to send funds.",
    "state_schema": {
      "merchant_id": {"type": "string", "required": true},
      "payout_amount": {"type": "number", "required": true},
      "currency": {"type": "string", "enum": ["USD", "EUR", "GHS", "NGN"], "required": true},
      "preferred_bank_account": {"type": "string", "required": true},
      "settlement_window": {"type": "string", "required": true},
      "payout_reference": {"type": "string"}
    },
    "workflow_dependencies": [
      {
        "name": "merchant_identity_check",
        "api": {
          "endpoint": "https://jsonplaceholder.typicode.com/users/8",
          "method": "GET",
          "headers": ["Authorization"],
          "query_params": ["merchant_id"],
          "body": null,
          "timeout_seconds": 25
        },
        "on_failure": {
          "action_type": "workflow",
          "action_target": {
            "workflow_id": "merchant_review_workflow_id",
            "workflow_name": "merchant_identity_review"
          }
        }
      },
      {
        "name": "settlement_balance_check",
        "api": {
          "endpoint": "https://jsonplaceholder.typicode.com/posts/18",
          "method": "GET",
          "headers": ["Authorization"],
          "query_params": ["merchant_id"],
          "body": null,
          "timeout_seconds": 25
        },
        "on_failure": {
          "action_type": "api_call",
          "action_target": {
            "endpoint": "https://httpbin.org/post",
            "method": "POST",
            "headers": ["Authorization", "Content-Type"],
            "query_params": ["merchant_id"],
            "body": ["merchant_id", "payout_amount", "reason"]
          }
        }
      }
    ],
    "end_action_type": "api_call",
    "end_action_target": {
      "endpoint": "https://httpbin.org/post",
      "method": "POST",
      "headers": ["Authorization", "Content-Type"],
      "query_params": ["merchant_id"],
      "body": ["merchant_id", "payout_amount", "currency", "preferred_bank_account", "payout_reference"],
      "timeout_seconds": 30
    },
    "is_active": true,
    "workflow_metadata": {
      "version": "1.0",
      "payout_threshold": 100,
      "sla_hours": 6
    }
  }
]
